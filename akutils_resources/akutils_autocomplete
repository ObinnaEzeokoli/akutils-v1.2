## Command autocompletion file for akutils

_akutils()
{
  local cur prev opts base
  COMPREPLY=()
  cur="${COMP_WORDS[COMP_CWORD]}"
  prev="${COMP_WORDS[COMP_CWORD-1]}"

  ## Basic options to autocomplete
  opts="configure print_config check check_result help
	pick_otus align_and_tree core_diversity
	phix_filtering strip_primers format_database test
	test_result join_paired_reads tutorial
        "

  ## Complete available akutils command arguments
  case $prev in
	akutils)
	  COMPREPLY=( $(compgen -W "${opts}" -- ${cur}) )
	  ;;

  ## Complete options to some of the commands
	pick_otus)
	  local otu="16S ITS other"
	  COMPREPLY=( $(compgen -W "${otu}" -- ${cur}) )
	  ;;
	align_and_tree)
	  local align="16S other"
	  COMPREPLY=( $(compgen -W "${align}" -- ${cur}) )
	  ;;
  esac
  return 0
}
complete -o default -F _akutils akutils
